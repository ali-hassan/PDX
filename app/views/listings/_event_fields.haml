// - VERIFICAR A REGRA DO MONTHLY - SEMPRE NO 1 OU ULTIMO DIA DA SEMANA DO MES, DE ACORDO COM O DIA ATUAL
// - VERIFICAR A DATA DE COMEÇO E VER QUAL DIA DA SEMANA É, E CRIAR A REGRA
// - FAZER O ANUAL
// - AJUSTAR O CLIENT
// - VERIFICAR O OUTPUT

.nested-fields.well.well-compact.row

  .col-3.event_datetime
    = f.text_field :start_at, class: "datepicker", placeholder: "starts at"
  .col-2.event_datetime
    = f.text_field :start_at_time, class: "timepicker", placeholder: "time"
  .col-1
    to
  .col-2.event_datetime
    = f.text_field :end_at_time, class: "timepicker", placeholder: "time"
  .col-3.event_datetime  
    = f.text_field :end_at, class: "datepicker", placeholder: "ends at"
  %br{clear: "all"}

  = check_box_tag "repeat"

  %label.repeats
    Repeat
  
#repeat-event-lightbox
  %h3
    Repeatition
  %label
    Repeats: 
  = select_tag :frm_repeats_type, options_for_select(["Weekly", "Monthly", "Annually"])
  %label
    Repeat every:
  = select_tag :frm_repeats_every, options_for_select(1..30) 
  %span.repeat_every_text
    weeks
  %br

  .repeat_weekly
    - Date::DAYNAMES.each_with_index do |day, index|
      .div{style: "float:left;width: 50px;"}
        %label
          = day[0]
        = check_box_tag "frm_repeats_day[]", index, :id => "frm_repeats_day_#{index}"
    %br{clear: "all"}

  .repeat_monthly
    %label
      Repeat:
    = radio_button_tag "repeat_monthly_type", "day_of_month"
    day of the month
    = radio_button_tag "repeat_monthly_type", "day_of_week"
    day of the week

  %label
    Ends:
  = button_tag "Done", class: "close_event"
  = link_to_remove_association 'Remove Date/Time', f, data: { enable_form_element: 'add_event' }

= hidden_field_tag :repeats_type
= hidden_field_tag :repeats_every
= hidden_field_tag :repeats_day
= hidden_field_tag :repeat_monthly_type

:css
  #repeat-event-lightbox{
   padding: 50px;
   background: #FFF;
   display: none;
   width: 500px;
   height: 500px;
  }
  .event_datetime{
    font-size: 12px;
  }
  .event_datetime .timepicker{
    padding-right: 0 !important;
  }
  label.repeats{
    display:inline;
  }

  .repeat_monthly{
    display:none;
  }